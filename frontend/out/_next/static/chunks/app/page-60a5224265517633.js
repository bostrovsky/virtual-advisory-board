(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3166:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var a=r(5155),s=r(2115),i=r(7909),n=r(273);function o(t){let{onFileContent:e,disabled:r}=t,[i,o]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),c=(0,s.useRef)(null),m=async t=>{if(![".md",".txt",".markdown"].includes(t.name.toLowerCase().substring(t.name.lastIndexOf(".")))&&!t.type.includes("text"))return void alert("Please upload a markdown (.md) or text (.txt) file");try{let r=await t.text();d(t.name),e(r,t.name)}catch(t){console.error("Error reading file:",t),alert("Error reading file. Please try again.")}},u=async t=>{if(t.preventDefault(),t.stopPropagation(),o(!1),r)return;let e=Array.from(t.dataTransfer.files);e.length>0&&await m(e[0])},v=async t=>{let e=t.target.files;e&&e.length>0&&await m(e[0])};return(0,a.jsxs)(n.P.div,{className:"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer\n        ".concat(i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400","\n        ").concat(r?"opacity-50 cursor-not-allowed":"","\n        ").concat(l?"bg-green-50 border-green-400":""),onDragOver:t=>{t.preventDefault(),t.stopPropagation(),o(!0)},onDragLeave:t=>{t.preventDefault(),t.stopPropagation(),o(!1)},onDrop:u,onClick:()=>{!r&&c.current&&c.current.click()},whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},children:[(0,a.jsx)("input",{ref:c,type:"file",accept:".md,.txt,.markdown,text/plain,text/markdown",onChange:v,className:"hidden",disabled:r}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 ".concat(l?"text-green-500":"text-gray-400"),stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,a.jsx)("path",{d:l?"M9 12l2 2 4-4 6 6L31 6":"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:l?(0,a.jsxs)("span",{className:"font-semibold text-green-600",children:["\uD83D\uDCC4 ",l," loaded"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Drop a document here"})," or"," ",(0,a.jsx)("span",{className:"text-blue-600",children:"click to browse"})]})}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Supports .md and .txt files"})]})]})}let l=(0,i.default)(()=>r.e(428).then(r.bind(r,1047)),{loadableGenerated:{webpack:()=>[1047]},ssr:!1}),d=[{id:"alex",name:"Alex Hormozi",description:"Business scaling expert focused on offers and growth"},{id:"mark",name:"Mark Cuban",description:"Entrepreneur, investor, and business strategist"},{id:"sara",name:"Sara Blakely",description:"Entrepreneur and founder of Spanx"},{id:"seth",name:"Seth Godin",description:"Marketing expert and author"},{id:"robert",name:"Robert Kiyosaki",description:"Real estate investor and financial educator"},{id:"tony",name:"Tony Robbins",description:"Peak performance coach and strategic advisor"}];function c(){let[t,e]=(0,s.useState)([]),[r,i]=(0,s.useState)(""),[n,c]=(0,s.useState)(d[0]),[m,u]=(0,s.useState)(!1),[v,x]=(0,s.useState)("individual"),[h,p]=(0,s.useState)(d.map(t=>t.id)),[g,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)([]),[w,j]=(0,s.useState)(!1),[S,k]=(0,s.useState)(null),C=(0,s.useRef)(null);(0,s.useEffect)(()=>{var t;null==(t=C.current)||t.scrollIntoView({behavior:"smooth"})},[t]);let N=async()=>{if(!r.trim()||m)return;let t={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};e(e=>[...e,t]),i(""),u(!0);try{if("individual"===v){let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,advisor:n.id,context:[],document:S})});if(!t.ok)throw Error("Failed to get response");let a=await t.json(),s={id:(Date.now()+1).toString(),text:a.response,sender:"advisor",advisorName:n.name,timestamp:new Date};e(t=>[...t,s])}else{let t=await fetch("/api/panel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:r,advisors:h,document:S})});if(!t.ok)throw Error("Failed to get panel response");(await t.json()).responses.forEach((t,r)=>{let a={id:(Date.now()+r+1).toString(),text:t.response,sender:"advisor",advisorName:t.name,timestamp:new Date};e(t=>[...t,a])})}}catch(r){console.error("Error sending message:",r);let t={id:(Date.now()+1).toString(),text:"Sorry, I encountered an error. Please try again.",sender:"advisor",advisorName:"individual"===v?n.name:"System",timestamp:new Date};e(e=>[...e,t])}finally{u(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col h-screen",style:{backgroundColor:"var(--tt-container)"},children:[(0,a.jsxs)("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid var(--tt-border-neutral)",padding:"var(--tt-space-4) var(--tt-space-6)"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",style:{marginBottom:"var(--tt-space-5)"},children:[(0,a.jsx)("h1",{style:{fontSize:"var(--tt-font-size-3xl)",fontWeight:"var(--tt-font-weight-bold)",lineHeight:"var(--tt-line-height-tight)",color:"var(--tt-text-primary)"},children:"Virtual Advisory Board"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>f(!0),className:"inline-flex items-center transition-all duration-200 focus:outline-none hover:bg-gray-50",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"white",color:"var(--tt-text-primary)",border:"1px solid var(--tt-border-neutral)",cursor:"pointer"},children:"\uD83D\uDD2C Research"}),(0,a.jsx)("a",{href:"/admin",className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"white",color:"var(--tt-text-primary)",border:"1px solid var(--tt-border-neutral)",textDecoration:"none"},children:"⚙️ Admin"})]})]}),(0,a.jsxs)("div",{className:"flex mb-4",style:{gap:"var(--tt-space-3)"},children:[(0,a.jsx)("button",{onClick:()=>x("individual"),className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"individual"===v?"var(--tt-primary)":"white",color:"individual"===v?"white":"var(--tt-text-primary)",border:"individual"===v?"1px solid var(--tt-primary)":"1px solid var(--tt-border-neutral)",boxShadow:"individual"===v?"var(--tt-shadow-sm)":"none"},children:"Individual Chat"}),(0,a.jsx)("button",{onClick:()=>x("panel"),className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"panel"===v?"var(--tt-primary)":"white",color:"panel"===v?"white":"var(--tt-text-primary)",border:"panel"===v?"1px solid var(--tt-primary)":"1px solid var(--tt-border-neutral)",boxShadow:"panel"===v?"var(--tt-shadow-sm)":"none"},children:"Panel Discussion"})]}),"individual"===v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap mb-3",style:{gap:"var(--tt-space-3)"},children:d.map(t=>(0,a.jsx)("button",{onClick:()=>c(t),className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.625rem 1.25rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-full)",backgroundColor:n.id===t.id?"var(--tt-primary)":"white",color:n.id===t.id?"white":"var(--tt-text-primary)",border:n.id===t.id?"1px solid var(--tt-primary)":"1px solid var(--tt-border-neutral)",boxShadow:n.id===t.id?"var(--tt-shadow-sm)":"none"},children:t.name.split(" ")[0]},t.id))}),(0,a.jsxs)("div",{style:{fontSize:"var(--tt-font-size-sm)",color:"var(--tt-text-secondary)"},children:["Currently chatting with ",(0,a.jsx)("span",{style:{fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-primary)"},children:n.name.split(" ")[0]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-sm)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-3)"},children:"Select advisors for panel discussion:"}),(0,a.jsx)("div",{className:"flex flex-wrap mb-3",style:{gap:"var(--tt-space-3)"},children:d.map(t=>(0,a.jsx)("button",{onClick:()=>{p(e=>e.includes(t.id)?e.filter(e=>e!==t.id):[...e,t.id])},className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.625rem 1.25rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-full)",backgroundColor:h.includes(t.id)?"var(--tt-primary)":"white",color:h.includes(t.id)?"white":"var(--tt-text-primary)",border:h.includes(t.id)?"1px solid var(--tt-primary)":"1px solid var(--tt-border-neutral)",boxShadow:h.includes(t.id)?"var(--tt-shadow-sm)":"none"},children:t.name.split(" ")[0]},t.id))}),(0,a.jsxs)("div",{style:{fontSize:"var(--tt-font-size-sm)",color:"var(--tt-text-secondary)"},children:["Selected advisors: ",(0,a.jsx)("span",{style:{fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-primary)"},children:h.length})," of ",d.length]})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",style:{padding:"var(--tt-space-4) var(--tt-space-6)",gap:"var(--tt-space-4)",display:"flex",flexDirection:"column"},children:[0===t.length?(0,a.jsxs)("div",{className:"text-center",style:{marginTop:"var(--tt-space-10)"},children:[(0,a.jsx)("div",{style:{fontSize:"4rem",marginBottom:"var(--tt-space-4)"},children:"\uD83D\uDC4B"}),(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-2xl)",fontWeight:"var(--tt-font-weight-semibold)",marginBottom:"var(--tt-space-2)",color:"var(--tt-text-primary)"},children:"Welcome to your Advisory Board!"}),(0,a.jsx)("div",{style:{color:"var(--tt-text-secondary)"},children:"individual"===v?"Select an advisor above and start chatting":"Choose advisors and start a panel discussion"})]}):t.map(t=>(0,a.jsx)("div",{className:"flex ".concat("user"===t.sender?"justify-end":"justify-start"),style:{marginBottom:"var(--tt-space-4)"},children:(0,a.jsxs)("div",{className:"max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-xl ".concat("user"===t.sender?"order-2":"order-1"),children:["advisor"===t.sender&&(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-1)"},children:t.advisorName}),(0,a.jsx)("div",{style:{padding:"var(--tt-space-3) var(--tt-space-4)",borderRadius:"user"===t.sender?"var(--tt-radius-lg) var(--tt-radius-lg) var(--tt-radius-sm) var(--tt-radius-lg)":"var(--tt-radius-lg) var(--tt-radius-lg) var(--tt-radius-lg) var(--tt-radius-sm)",fontSize:"var(--tt-font-size-md)",lineHeight:"var(--tt-line-height-normal)",backgroundColor:"user"===t.sender?"var(--tt-primary)":"white",color:"user"===t.sender?"white":"var(--tt-text-primary)",border:"user"===t.sender?"none":"1px solid var(--tt-border-neutral)",boxShadow:"var(--tt-shadow-sm)"},children:(0,a.jsx)("div",{className:"whitespace-pre-wrap",children:t.text})}),(0,a.jsx)("div",{className:"mt-1 ".concat("user"===t.sender?"text-right":"text-left"),style:{fontSize:"var(--tt-font-size-xs)",color:"var(--tt-text-disabled)"},children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t.id)),m&&(0,a.jsx)("div",{className:"flex justify-start",style:{marginBottom:"var(--tt-space-4)"},children:(0,a.jsxs)("div",{className:"max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-xl",children:[(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-1)"},children:n.name}),(0,a.jsx)("div",{style:{backgroundColor:"white",color:"var(--tt-text-primary)",border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-lg) var(--tt-radius-lg) var(--tt-radius-lg) var(--tt-radius-sm)",boxShadow:"var(--tt-shadow-sm)",padding:"var(--tt-space-3) var(--tt-space-4)"},children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--tt-text-disabled)"}}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--tt-text-disabled)",animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--tt-text-disabled)",animationDelay:"0.2s"}})]})})]})}),(0,a.jsx)("div",{ref:C})]}),w&&(0,a.jsxs)("div",{className:"bg-white",style:{borderTop:"1px solid var(--tt-border-neutral)",padding:"var(--tt-space-4)"},children:[(0,a.jsx)(o,{onFileContent:(t,e)=>{k({content:t,filename:e}),j(!1),i("Please review this document (".concat(e,"):\n\n").concat(t.substring(0,500)).concat(t.length>500?"...":"","\n\n[Full document provided for review]"))},disabled:m}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"mt-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"})]}),(0,a.jsxs)("div",{className:"bg-white",style:{borderTop:"1px solid var(--tt-border-neutral)",padding:"var(--tt-space-4)"},children:[S&&(0,a.jsxs)("div",{className:"mb-2 p-2 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-green-700",children:["\uD83D\uDCC4 ",S.filename]}),(0,a.jsx)("button",{onClick:()=>{k(null),i("")},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),(0,a.jsxs)("div",{className:"flex",style:{gap:"var(--tt-space-3)"},children:[(0,a.jsx)("textarea",{ref:t=>{t&&(window.chatInput=t)},value:r,onChange:t=>i(t.target.value),onKeyPress:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),N())},placeholder:"individual"===v?"Message ".concat(n.name.split(" ")[0],"..."):"Ask your panel of advisors a question...",className:"flex-1 resize-none transition-all duration-200 focus:outline-none",rows:1,disabled:m,style:{border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-lg)",padding:"0.625rem 0.75rem",fontSize:"var(--tt-font-size-md)",minHeight:"48px",maxHeight:"120px",backgroundColor:"var(--tt-container)",...m&&{opacity:"0.5",cursor:"not-allowed"}},onInput:t=>{let e=t.target;e.style.height="auto",e.style.height=Math.min(e.scrollHeight,120)+"px"},onFocus:t=>{t.target.style.borderColor="var(--tt-border-focus)",t.target.style.backgroundColor="white",t.target.style.boxShadow="0 0 0 4px rgba(99, 91, 255, 0.15)"},onBlur:t=>{t.target.style.borderColor="var(--tt-border-neutral)",t.target.style.backgroundColor="var(--tt-container)",t.target.style.boxShadow="none"}}),(0,a.jsx)("button",{onClick:()=>j(!w),className:"p-3 transition-all duration-200 hover:bg-gray-50 rounded-lg",disabled:m,title:"Upload document for review",children:"\uD83D\uDCCE"}),(0,a.jsx)("button",{onClick:N,disabled:!r.trim()||m,className:"transition-all duration-200 focus:outline-none",style:{padding:"var(--tt-space-3)",borderRadius:"var(--tt-radius-full)",backgroundColor:!r.trim()||m?"var(--tt-text-disabled)":"var(--tt-primary)",color:"white",border:"none",cursor:!r.trim()||m?"not-allowed":"pointer",boxShadow:!r.trim()||m?"none":"var(--tt-shadow-sm)"},onMouseEnter:t=>{!r.trim()||m||(t.currentTarget.style.backgroundColor="var(--tt-primary-dark)",t.currentTarget.style.transform="translateY(-1px)",t.currentTarget.style.boxShadow="var(--tt-shadow-md)")},onMouseLeave:t=>{!r.trim()||m||(t.currentTarget.style.backgroundColor="var(--tt-primary)",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="var(--tt-shadow-sm)")},children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}),g&&(0,a.jsx)(l,{onClose:()=>f(!1),currentContext:t.map(t=>"".concat("user"===t.sender?"User":t.advisorName,": ").concat(t.text)).join("\n"),advisorSuggestions:b})]})}},3182:(t,e,r)=>{Promise.resolve().then(r.bind(r,3166))}},t=>{t.O(0,[741,441,255,358],()=>t(t.s=3182)),_N_E=t.O()}]);