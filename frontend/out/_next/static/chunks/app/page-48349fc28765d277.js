(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115),n=a(7909),i=a(273);function o(e){let{onFileContent:t,disabled:a}=e,[n,o]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),c=(0,s.useRef)(null),m=async e=>{if(![".md",".txt",".markdown"].includes(e.name.toLowerCase().substring(e.name.lastIndexOf(".")))&&!e.type.includes("text"))return void alert("Please upload a markdown (.md) or text (.txt) file");try{let a=await e.text();d(e.name),t(a,e.name)}catch(e){console.error("Error reading file:",e),alert("Error reading file. Please try again.")}},x=async e=>{if(e.preventDefault(),e.stopPropagation(),o(!1),a)return;let t=Array.from(e.dataTransfer.files);t.length>0&&await m(t[0])},u=async e=>{let t=e.target.files;t&&t.length>0&&await m(t[0])};return(0,r.jsxs)(i.P.div,{className:"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer\n        ".concat(n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400","\n        ").concat(a?"opacity-50 cursor-not-allowed":"","\n        ").concat(l?"bg-green-50 border-green-400":""),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),o(!1)},onDrop:x,onClick:()=>{!a&&c.current&&c.current.click()},whileHover:a?{}:{scale:1.02},whileTap:a?{}:{scale:.98},children:[(0,r.jsx)("input",{ref:c,type:"file",accept:".md,.txt,.markdown,text/plain,text/markdown",onChange:u,className:"hidden",disabled:a}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 ".concat(l?"text-green-500":"text-gray-400"),stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,r.jsx)("path",{d:l?"M9 12l2 2 4-4 6 6L31 6":"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:l?(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:["\uD83D\uDCC4 ",l," loaded"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Drop a document here"})," or"," ",(0,r.jsx)("span",{className:"text-blue-600",children:"click to browse"})]})}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Supports .md and .txt files"})]})]})}let l=(0,n.default)(()=>a.e(428).then(a.bind(a,1047)),{loadableGenerated:{webpack:()=>[1047]},ssr:!1}),d=[{id:"alex",name:"Alex Hormozi",description:"Business scaling expert focused on offers and growth"},{id:"mark",name:"Mark Cuban",description:"Entrepreneur, investor, and business strategist"},{id:"sara",name:"Sara Blakely",description:"Entrepreneur and founder of Spanx"},{id:"seth",name:"Seth Godin",description:"Marketing expert and author"},{id:"robert",name:"Robert Kiyosaki",description:"Real estate investor and financial educator"},{id:"tony",name:"Tony Robbins",description:"Peak performance coach and strategic advisor"}];function c(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[i,c]=(0,s.useState)(d[0]),[m,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)("individual"),[g,b]=(0,s.useState)(d.map(e=>e.id)),[p,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)([]),[w,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(null),C=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null==(e=C.current)||e.scrollIntoView({behavior:"smooth"})},[e]);let S=async()=>{if(!a.trim()||m)return;let e={id:Date.now().toString(),text:a,sender:"user",timestamp:new Date};t(t=>[...t,e]),n(""),x(!0);try{if("individual"===u){let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,advisor:i.id,context:[],document:N})});if(!e.ok)throw Error("Failed to get response");let r=await e.json(),s={id:(Date.now()+1).toString(),text:r.response,sender:"advisor",advisorName:i.name,timestamp:new Date};t(e=>[...e,s])}else{let e=await fetch("/api/panel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:a,advisors:g,document:N})});if(!e.ok)throw Error("Failed to get panel response");(await e.json()).responses.forEach((e,a)=>{let r={id:(Date.now()+a+1).toString(),text:e.response,sender:"advisor",advisorName:e.name,timestamp:new Date};t(e=>[...e,r])})}}catch(a){console.error("Error sending message:",a);let e={id:(Date.now()+1).toString(),text:"Sorry, I encountered an error. Please try again.",sender:"advisor",advisorName:"individual"===u?i.name:"System",timestamp:new Date};t(t=>[...t,e])}finally{x(!1)}};return(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,r.jsxs)("header",{className:"bg-white border-b border-gray-200 p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Virtual Advisory Board"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Research"]}),(0,r.jsxs)("a",{href:"/admin",className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Admin"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsx)("button",{onClick:()=>h("individual"),className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("individual"===u?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"Individual Chat"}),(0,r.jsx)("button",{onClick:()=>h("panel"),className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("panel"===u?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"Panel Discussion"})]}),"individual"===u?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map(e=>(0,r.jsx)("button",{onClick:()=>c(e),className:"px-3 py-2 text-sm font-medium rounded-full transition-colors min-h-[44px] ".concat(i.id===e.id?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:e.name.split(" ")[0]},e.id))}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Currently chatting with ",(0,r.jsx)("span",{className:"font-medium text-blue-600",children:i.name})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Select advisors for panel discussion:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map(e=>(0,r.jsx)("button",{onClick:()=>{b(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])},className:"px-3 py-2 text-sm font-medium rounded-full transition-colors min-h-[44px] ".concat(g.includes(e.id)?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:e.name.split(" ")[0]},e.id))}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Selected advisors: ",(0,r.jsx)("span",{className:"font-medium text-blue-600",children:g.length})," of ",d.length]})]})]}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto p-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:[0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC4B"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to your Advisory Board!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"individual"===u?"Select an advisor above and start chatting":"Choose advisors and start a panel discussion"})]}):e.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-2xl ".concat("user"===e.sender?"order-2":"order-1"),children:["advisor"===e.sender&&(0,r.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:e.advisorName}),(0,r.jsx)("div",{className:"p-3 rounded-lg shadow-sm ".concat("user"===e.sender?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-900 border border-gray-200 rounded-bl-sm"),children:(0,r.jsx)("div",{className:"whitespace-pre-wrap break-words text-sm sm:text-base leading-relaxed",children:e.text})}),(0,r.jsx)("div",{className:"mt-1 text-xs text-gray-500 ".concat("user"===e.sender?"text-right":"text-left"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),m&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)("div",{className:"max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-2xl",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"individual"===u?i.name:"Advisors"}),(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg rounded-bl-sm shadow-sm p-3",children:(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),(0,r.jsx)("div",{ref:C})]})}),w&&(0,r.jsx)("div",{className:"bg-white border-t border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)(o,{onFileContent:(e,t)=>{k({content:e,filename:t}),j(!1),n("Please review this document (".concat(t,"):\n\n").concat(e.substring(0,500)).concat(e.length>500?"...":"","\n\n[Full document provided for review]"))},disabled:m}),(0,r.jsx)("button",{onClick:()=>j(!1),className:"mt-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]})}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[N&&(0,r.jsxs)("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,r.jsxs)("span",{className:"text-sm text-green-700 flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),N.filename]}),(0,r.jsx)("button",{onClick:()=>{k(null),n("")},className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:"Remove"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("textarea",{ref:e=>{e&&(window.chatInput=e)},value:a,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:"individual"===u?"Message ".concat(i.name.split(" ")[0],"..."):"Ask your panel of advisors a question...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-4 py-3 text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all",rows:1,disabled:m,style:{minHeight:"48px",maxHeight:"120px"},onInput:e=>{let t=e.target;t.style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"}}),(0,r.jsx)("button",{onClick:()=>j(!w),disabled:m,title:"Upload document for review",className:"flex items-center justify-center w-12 h-12 rounded-lg border transition-all disabled:opacity-50 disabled:cursor-not-allowed ".concat(w?"bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"),children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),(0,r.jsx)("button",{onClick:S,disabled:!a.trim()||m,className:"flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all shadow-sm hover:shadow-md",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}),p&&(0,r.jsx)(l,{onClose:()=>f(!1),currentContext:e.map(e=>"".concat("user"===e.sender?"User":e.advisorName,": ").concat(e.text)).join("\n"),advisorSuggestions:v})]})}},3182:(e,t,a)=>{Promise.resolve().then(a.bind(a,3166))}},e=>{e.O(0,[741,441,255,358],()=>e(e.s=3182)),_N_E=e.O()}]);