(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2563:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var a=r(5155),o=r(2115);function i(){let[t,e]=(0,o.useState)([]),[r,i]=(0,o.useState)(null),[n,s]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1),[c,m]=(0,o.useState)(!1),[v,u]=(0,o.useState)({id:"",name:"",description:"",personality:""});(0,o.useEffect)(()=>{f()},[]);let f=async()=>{try{let t=await fetch("/api/admin/advisors"),r=await t.json();e(r.advisors)}catch(t){console.error("Error fetching advisors:",t)}},h=async t=>{i(t),u({id:t.id,name:t.name,description:t.description,personality:t.personality}),s(!1),d(!1)},p=async()=>{m(!0);try{(l?await fetch("/api/admin/advisors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}):await fetch("/api/admin/advisors/".concat(v.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok&&(await f(),s(!1),d(!1),l&&i(null))}catch(t){console.error("Error saving advisor:",t)}m(!1)},x=async()=>{if(r&&confirm("Are you sure you want to delete ".concat(r.name,"?"))){m(!0);try{(await fetch("/api/admin/advisors/".concat(r.id),{method:"DELETE"})).ok&&(await f(),i(null))}catch(t){console.error("Error deleting advisor:",t)}m(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--tt-container)"},children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid var(--tt-border-neutral)",padding:"var(--tt-space-4) var(--tt-space-4) lg:var(--tt-space-6)"},children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsx)("h1",{style:{fontSize:"var(--tt-font-size-2xl)",fontWeight:"var(--tt-font-weight-bold)",color:"var(--tt-text-primary)"},className:"lg:text-3xl",children:"Advisor Admin Panel"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[(0,a.jsx)("a",{href:"/",className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"white",color:"var(--tt-text-primary)",border:"1px solid var(--tt-border-neutral)",textDecoration:"none"},children:"← Back to Chat"}),(0,a.jsx)("button",{onClick:()=>{d(!0),i(null),u({id:"",name:"",description:"",personality:""})},className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"var(--tt-primary)",color:"white",border:"none"},children:"+ Add Advisor"})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row h-full",children:[(0,a.jsxs)("div",{className:"w-full lg:w-1/3 bg-white shadow-sm lg:shadow-sm",style:{borderRight:"1px solid var(--tt-border-neutral)",borderBottom:"1px solid var(--tt-border-neutral)",padding:"var(--tt-space-4)"},children:[(0,a.jsx)("h2",{style:{fontSize:"var(--tt-font-size-xl)",fontWeight:"var(--tt-font-weight-semibold)",color:"var(--tt-text-primary)",marginBottom:"var(--tt-space-4)"},children:"Current Advisors"}),(0,a.jsx)("div",{className:"space-y-2",children:t.map(t=>(0,a.jsxs)("button",{onClick:()=>h(t),className:"w-full text-left p-3 rounded-lg transition-all duration-200 focus:outline-none",style:{backgroundColor:(null==r?void 0:r.id)===t.id?"var(--tt-container)":"transparent",border:(null==r?void 0:r.id)===t.id?"1px solid var(--tt-border-focus)":"1px solid var(--tt-border-neutral)"},children:[(0,a.jsx)("div",{style:{fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-primary)",marginBottom:"var(--tt-space-1)"},children:t.name}),(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-sm)",color:"var(--tt-text-secondary)"},children:t.description})]},t.id))})]}),(0,a.jsx)("div",{className:"flex-1",style:{padding:"var(--tt-space-6)"},children:r||l?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",style:{padding:"var(--tt-space-6)",border:"1px solid var(--tt-border-neutral)"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{style:{fontSize:"var(--tt-font-size-2xl)",fontWeight:"var(--tt-font-weight-semibold)",color:"var(--tt-text-primary)"},children:l?"Create New Advisor":n?"Edit Advisor":"Advisor Details"}),!l&&!n&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{s(!0)},className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"var(--tt-primary)",color:"white",border:"none"},children:"Edit"}),(0,a.jsx)("button",{onClick:x,className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.5rem 1rem",fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"var(--tt-error)",color:"white",border:"none"},children:"Delete"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-2)",display:"block"},children:"Advisor ID"}),n||l?(0,a.jsx)("input",{type:"text",value:v.id,onChange:t=>u({...v,id:t.target.value}),disabled:!l,className:"w-full transition-all duration-200 focus:outline-none",style:{border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-md)",padding:"0.625rem 0.75rem",fontSize:"var(--tt-font-size-md)",backgroundColor:l?"white":"var(--tt-container)"}}):(0,a.jsx)("div",{style:{color:"var(--tt-text-primary)"},children:null==r?void 0:r.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-2)",display:"block"},children:"Name"}),n||l?(0,a.jsx)("input",{type:"text",value:v.name,onChange:t=>u({...v,name:t.target.value}),className:"w-full transition-all duration-200 focus:outline-none",style:{border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-md)",padding:"0.625rem 0.75rem",fontSize:"var(--tt-font-size-md)"}}):(0,a.jsx)("div",{style:{color:"var(--tt-text-primary)"},children:null==r?void 0:r.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-2)",display:"block"},children:"Description"}),n||l?(0,a.jsx)("textarea",{value:v.description,onChange:t=>u({...v,description:t.target.value}),rows:2,className:"w-full transition-all duration-200 focus:outline-none resize-none",style:{border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-md)",padding:"0.625rem 0.75rem",fontSize:"var(--tt-font-size-md)"}}):(0,a.jsx)("div",{style:{color:"var(--tt-text-primary)"},children:null==r?void 0:r.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{fontSize:"var(--tt-font-size-sm)",fontWeight:"var(--tt-font-weight-medium)",color:"var(--tt-text-secondary)",marginBottom:"var(--tt-space-2)",display:"block"},children:"Personality & Context"}),n||l?(0,a.jsx)("textarea",{value:v.personality,onChange:t=>u({...v,personality:t.target.value}),rows:15,className:"w-full transition-all duration-200 focus:outline-none resize-none",style:{border:"1px solid var(--tt-border-neutral)",borderRadius:"var(--tt-radius-md)",padding:"0.625rem 0.75rem",fontSize:"var(--tt-font-size-sm)",fontFamily:'SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},placeholder:"Enter the advisor's personality, knowledge base, communication style, and any other context that will help the AI embody this advisor..."}):(0,a.jsx)("div",{className:"whitespace-pre-wrap",style:{color:"var(--tt-text-primary)",fontSize:"var(--tt-font-size-sm)",backgroundColor:"var(--tt-container)",padding:"var(--tt-space-4)",borderRadius:"var(--tt-radius-md)",fontFamily:'SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',lineHeight:"1.6"},children:null==r?void 0:r.personality})]}),(n||l)&&(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:p,disabled:c,className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.625rem 1.5rem",fontSize:"var(--tt-font-size-md)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"var(--tt-primary)",color:"white",border:"none",opacity:c?"0.7":"1"},children:c?"Saving...":"Save"}),(0,a.jsx)("button",{onClick:()=>{s(!1),d(!1),r&&u({id:r.id,name:r.name,description:r.description,personality:r.personality})},className:"inline-flex items-center transition-all duration-200 focus:outline-none",style:{padding:"0.625rem 1.5rem",fontSize:"var(--tt-font-size-md)",fontWeight:"var(--tt-font-weight-medium)",borderRadius:"var(--tt-radius-md)",backgroundColor:"white",color:"var(--tt-text-primary)",border:"1px solid var(--tt-border-neutral)"},children:"Cancel"})]})]})]}):(0,a.jsxs)("div",{className:"text-center",style:{marginTop:"var(--tt-space-10)"},children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"var(--tt-space-4)"},children:"⚙️"}),(0,a.jsx)("div",{style:{fontSize:"var(--tt-font-size-xl)",fontWeight:"var(--tt-font-weight-semibold)",color:"var(--tt-text-primary)",marginBottom:"var(--tt-space-2)"},children:"Advisor Management"}),(0,a.jsx)("div",{style:{color:"var(--tt-text-secondary)"},children:"Select an advisor from the left to view or edit their profile, or create a new advisor."})]})})]})]})}},7360:(t,e,r)=>{Promise.resolve().then(r.bind(r,2563))}},t=>{t.O(0,[441,255,358],()=>t(t.s=7360)),_N_E=t.O()}]);